# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-undertow
      
# travis encrypt -r bootique/bootique-undertow "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-undertow "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "Rej8I27rnWwmX01+LAO5uU0nd+2VpZNAkJsiHS5rhZtcq3cLVHcRXDr6ZGhLsjQaog4PIu0rA08WXm871+01u6Ilmu8TyQ9tTRey/i6aDXyUX+4Ym29hjlenQjNWEiWfAL2f2ns5m1qb7XgCr6Q2AnopoR0AK1jUiGCoqYi5sXb1TT4tbATCPG3Nv8YyIFzMeJqGm6JnMJVPsfBQ2D4Q8Bw4WH5BD/GWkipX2SWgWMWQI548KQErZJVrl97q08onZLeULPRgpH7cywtSodS3CL3Rhp4GNjlznn6g/t2ksBhcBxwtuY6rTsuVJdvEK7ZAAwTiLeVb7lG1MAHLAWwg1aoXBtMgHkZCD1wqjFWn9EKJZV7kO2zk4ULOkVbqaxZE/Z3NVGlvDC+/BLo8nCXmzImtuRyvRTV0bEKfOcJaf4pSmE4tWofrE9di5TXpOwKmcAhHp67KLMlNz3vEhJ3C+TgrlggBCGt55KmVkiecECHzTetD2fOLg0W60sMGAOdxQiMI0R8Xb53jg5J4Kw2BFp3/SNbX3OX/SKCc12TcQL/C4NR4GG94QpF4vUj3mvJctRpcos4BRSCQ50etFaRTPOa+jr+hsV/SlBeOYXscmEHr6UdZuEIXsakaZRb5KG02JyRTQfpJlrIP/tVG/ULtsFPYHIMSZelXBAPO1slx/B4="
    - secure: "dBm3fyUe64RAv+r0GnllBqEartT9pcxXNt72NBte1DGAB36nLNlDqblC4uWkgJM+3UDjCCEdO7bTFuROPNLVNypeo7V6s4ftXW1Bcj55kDhdHRQEVGvfYk1qI+HGzh//IbVll932Jv05q8HtOkMz6keEuCo7gwuBRGRFegzcj5/wsvjWkp3hYaIUQOTKE+Ep1n2DSJGD8825S7rqwaUsrXRQz2fNIfH02AvWyBeFdqVudDH2Ad8gcFjUXn0QcuMBReEJSnrRuUicvkOMJr5WwycxkkWvc9w0L4G8CHMl2tGIHqar7Hj8dEhmEQT0cHU+v84UapHfZIU8frqPZahgbEvwpVcBP8p7IJRkYU8IzkiYIEOU5nqrFaJkAU9XGzLyL1FM7jTDRIk/6Uvk0vpsdMQq+fjcWmmpdOBWrq7G1kYGTjA15G30HM6qP2pr4Th5EfZjX7Vtl3LhI7XcC8A1ulZ8AQQT9E89+gcsXkxkuAxPwlhKjYbnTbkvJKQ1xmi5tSPHP1cMpFiFWTlF0KBwPOkayZzMFGIOarczy8uykV752AJl2Ji57dNYWR9IuAWOkk+R55/lWLJb+G0U4ysI+xbFliwigNQXVu2kxJne1QNkdJlRiQzhqsy0BHQ3lwBed05GKS5n6+XUyuZn9+cthiHqn9fabQzoLwxkK8Ak4Ns="
